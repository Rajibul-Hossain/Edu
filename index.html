<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EduConnect — Student Feedback</title>

  <style>
   /* ======================================================
   EDUCONNECT - "BEST AS F*CK" PREMIUM THEME
   - Poppins font
   - Teal ⇄ Purple animated gradient
   - Glassmorphism, neon glow, floating labels
   - Animated scrollbar + shimmer accents
   - Responsive: mobile, tablet, desktop
   - ~400 lines, production-ready visual polish
   ====================================================== */

/* ---------- IMPORT FONT ---------- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

:root{
  /* core palette */
  --bg-1: #0b1622;            /* deep midnight */
  --bg-2: #111827;            /* near black */
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --muted: rgba(255,255,255,0.65);
  --soft: rgba(255,255,255,0.03);
  --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  --accent-a: #00f5d4;        /* teal */
  --accent-b: #8b5cf6;        /* purple */
  --accent-c: #6ee7b7;        /* soft green */
  --glass-border: rgba(255,255,255,0.06);
  --radius-lg: 20px;
  --radius-md: 12px;
  --ease: cubic-bezier(.16,.84,.32,1);
  --shadow-md: 0 10px 40px rgba(2,6,23,0.6);
  --ui-gap: 18px;
  --max-w: 1180px;
  --text: #e9f2fb;
  --danger: #ff6b6b;
  --success: #7ef0c3;
  --glass-highlight: rgba(255,255,255,0.03);
}

/* ---------- GLOBAL RESET & LAYOUT ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background: radial-gradient(800px 400px at 10% 10%, rgba(139,92,246,0.06), transparent 8%),
              radial-gradient(700px 300px at 95% 90%, rgba(0,245,212,0.03), transparent 8%),
              linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:28px;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  gap:20px;
}

/* main scroll container */
.stage{
  width:100%;
  max-width:var(--max-w);
  height:calc(100vh - 56px);
  
  scroll-behavior:smooth;
  padding:18px;
  border-radius:24px;
  position:relative;
}

/* animated subtle background sheen */
.stage::before{
  content:'';
  position:absolute;
  inset:0;
  border-radius:28px;
  pointer-events:none;
  background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  mix-blend-mode: overlay;
  z-index:0;
}

/* ---------- SCROLLBAR (WebKit) + Firefox ---------- */
/* Firefox */
.stage{
  scrollbar-width: thin;
  scrollbar-color: linear-gradient(#00f5d4,#8b5cf6) rgba(255,255,255,0.03);
}
/* WebKit */
.stage::-webkit-scrollbar{width:12px;height:12px}
.stage::-webkit-scrollbar-track{
  background: transparent;
  margin:12px;
}
.stage::-webkit-scrollbar-thumb{
  border-radius:12px;
  background: linear-gradient(180deg,var(--accent-a),var(--accent-b));
  box-shadow: 0 6px 20px rgba(0,0,0,0.6), 0 0 12px rgba(139,92,246,0.08);
  border: 2px solid rgba(255,255,255,0.03);
  transition: box-shadow .35s var(--ease), transform .35s var(--ease);
}
/* subtle pulsing animation on thumb */
@keyframes thumbPulse{
  0%{box-shadow:0 6px 20px rgba(0,0,0,0.55), 0 0 8px rgba(0,245,212,0.05)}
  50%{box-shadow:0 10px 28px rgba(0,0,0,0.65), 0 0 18px rgba(139,92,246,0.12)}
  100%{box-shadow:0 6px 20px rgba(0,0,0,0.55), 0 0 8px rgba(0,245,212,0.05)}
}
.stage::-webkit-scrollbar-thumb:hover{transform:scale(1.02); animation:thumbPulse 3.6s infinite ease-in-out}

/* ---------- CARD / SHELL ---------- */
.card{
  position:relative;
  margin:12px auto;
  border-radius:26px;
  padding:0;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--glass-border);
  box-shadow:var(--shadow-md);
  overflow:hidden;
  min-height:80vh;
}

/* decorative gradient orbs */
.card .orb{
  position:absolute;
  border-radius:50%;
  filter:blur(60px);
  opacity:.6;
  pointer-events:none;
}
.card .orb.o1{width:420px;height:420px;right:-140px;top:-140px;background:linear-gradient(45deg,var(--accent-a),transparent)}
.card .orb.o2{width:220px;height:220px;left:-90px;bottom:-80px;background:linear-gradient(45deg,var(--accent-b),transparent)}

/* ---------- HEADER (sticky) ---------- */
.header{
  display:flex;
  align-items:center;
  gap:18px;
  padding:18px 28px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-bottom:1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(8px);
  position:sticky;
  top:0;
  z-index:30;
}
.logo{
  width:56px;height:56px;border-radius:14px;
  display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:18px;
  background: linear-gradient(135deg,var(--accent-b),var(--accent-a));
  color:#020617;
  box-shadow:0 8px 30px rgba(0,0,0,0.5), inset 0 -6px 14px rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);
}
.meta{display:flex;flex-direction:column}
.meta .title{font-size:18px;font-weight:700;letter-spacing:0.2px}
.meta .subtitle{font-size:13px;color:var(--muted);margin-top:4px}

/* header action (optional) */
.header .hdr-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.hdr-chip{
  padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);
  font-weight:600;color:var(--muted)
}

/* ---------- MAIN GRID ---------- */
.main{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap:26px;
  padding:28px;
  position:relative;
  z-index:5;
}

/* left column (questions) */
.left{display:flex;flex-direction:column;gap:22px;padding-right:6px}
/* right column (panel) */
.right{display:flex;flex-direction:column;gap:16px;align-self:start}

/* ---------- SECTION BLOCK (group container) ---------- */
.group{
  border-radius:18px;
  padding:18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.02);
  box-shadow: 0 8px 28px rgba(3,6,23,0.5);
  transition: transform .26s var(--ease), box-shadow .3s var(--ease);
}
.group:hover{transform:translateY(-6px); box-shadow:0 18px 40px rgba(3,8,30,0.6)}

/* group title */
.group h2{
  margin:0 0 8px 0;color:var(--accent-a);
  font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:1px;
}
.group p.desc{margin:0 0 12px 0;color:var(--muted);font-size:13px}

/* individual question card */
.q{
  margin-top:8px;
  padding:12px;border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  border:1px solid rgba(255,255,255,0.02);
}
.q h3{margin:0;font-size:15px;font-weight:600}
.q .hint{font-size:12px;color:var(--muted);margin-top:8px}

/* options layout */
.options{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.opt{
  min-width:88px;max-width:240px;
  padding:10px 14px;border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border:1px solid rgba(255,255,255,0.02);
  color:var(--muted);font-weight:600;cursor:pointer;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), background .18s;
}
.opt:hover{transform:translateY(-6px); box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.opt.selected{
  background: linear-gradient(90deg, rgba(0,245,212,0.12), rgba(139,92,246,0.06));
  color: #e6fff9;
  border: 1px solid rgba(0,245,212,0.18);
  box-shadow: 0 12px 30px rgba(0,245,212,0.04), inset 0 -6px 12px rgba(255,255,255,0.02);
}

/* floating label wrapper for inputs */
.field{
  position:relative;margin-top:12px;
}
.input, input[type="text"], select, textarea{
  width:100%;padding:12px 14px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);
  color:var(--text);outline:none;font-size:14px;transition:box-shadow .25s var(--ease), border-color .25s var(--ease);
}
.input:focus, input[type="text"]:focus, select:focus, textarea:focus{
  box-shadow:0 8px 30px rgba(91,95,245,0.08), 0 0 18px rgba(0,245,212,0.03);
  border-color: rgba(0,245,212,0.18);
}

/* floating label (if implemented) */
.flabel{
  position:absolute;left:14px;top:10px;font-size:12px;color:var(--muted);pointer-events:none;
  transition: all .18s var(--ease);
}
.input:not(:placeholder-shown) + .flabel,
.input:focus + .flabel,
input[type="text"]:not(:placeholder-shown) + .flabel,
input[type="text"]:focus + .flabel,
textarea:not(:placeholder-shown) + .flabel,
textarea:focus + .flabel{
  transform: translateY(-22px) scale(.94);
  opacity:0.95;color:var(--accent-b);
}

/* subject input micro style */
.subject-input{margin-top:10px}
.subject-input input{padding:11px 12px;border-radius:10px}

/* textarea style */
.answer textarea, textarea#suggestions{
  min-height:92px;resize:vertical;line-height:1.45;padding:12px;border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.007));
  border:1px solid rgba(255,255,255,0.03);
}

/* star rating - chunky futuristic style */
.stars{display:flex;gap:12px;margin-top:10px;align-items:center}
.star-btn{
  width:52px;height:52px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);display:inline-flex;align-items:center;justify-content:center;
  cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.006), rgba(255,255,255,0.001));
  color:rgba(255,255,255,0.45);transition: transform .18s var(--ease), color .18s;
}
.star-btn svg{width:20px;height:20px;display:block;filter: drop-shadow(0 6px 14px rgba(0,0,0,0.45));}
.star-btn:hover{transform:translateY(-6px);color:var(--accent-a)}
.star-btn.active{
  transform:scale(1.07); color:var(--accent-a);
  box-shadow:0 12px 26px rgba(0,245,212,0.06), inset 0 -6px 14px rgba(255,255,255,0.02)
}

/* tiny helper text */
.tiny{font-size:12px;color:var(--muted);margin-top:6px}

/* right panel design */
.panel{
  position:sticky;top:80px;
  padding:18px;border-radius:14px;background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.007));
  border:1px solid rgba(255,255,255,0.02);box-shadow:0 8px 30px rgba(2,6,23,0.45);
}
.panel h4{margin:0 0 8px 0;color:var(--accent-b);font-weight:700}

/* submit buttons */
.submit-row{display:flex;gap:12px;margin-top:12px}
.btn{
  padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);cursor:pointer;font-weight:700;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), opacity .18s;
}
.btn.primary{
  background: linear-gradient(90deg,var(--accent-b),var(--accent-a));color:#031019;border:none;
  box-shadow:0 10px 30px rgba(91,95,245,0.12), 0 0 28px rgba(0,245,212,0.04);
}
.btn.primary:hover{transform:translateY(-4px);box-shadow:0 18px 44px rgba(91,95,245,0.22)}
.btn.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.06)}
.btn.ghost:hover{color:var(--accent-a);border-color:rgba(0,245,212,0.18)}

/* toast */
.toast{
  position:fixed;left:50%;transform:translateX(-50%);bottom:28px;background:linear-gradient(90deg,var(--accent-a),var(--accent-b));
  color:#021018;padding:12px 18px;border-radius:12px;font-weight:700;box-shadow:0 10px 30px rgba(0,0,0,0.6);
  opacity:0;pointer-events:none;transition:all .28s ease;z-index:80;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(-10px);pointer-events:auto}

/* designer tag */
.designer{
  position:fixed;right:16px;bottom:18px;font-weight:700;color:rgba(255,255,255,0.12);font-size:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:10px;padding:6px 10px;border:1px solid rgba(255,255,255,0.03)
}
.designer:hover{color:var(--accent-a);transform:translateY(-4px);box-shadow:0 6px 20px rgba(0,0,0,0.55)}

/* footer tag */
footer.tag{position:fixed;left:16px;bottom:18px;font-size:12px;color:rgba(255,255,255,0.06);font-weight:800;letter-spacing:1px}

/* ---------- SMALL SCREEN / TABLET ---------- */
@media (max-width:1024px){
  .main{grid-template-columns:1fr 320px;padding:18px}
  .panel{position:relative;top:auto}
  .right{order:2}
  .left{order:1}
}

/* mobile */
@media (max-width:720px){
  body{padding:12px}
  .main{grid-template-columns:1fr;gap:14px;padding:14px}
  .header{padding:14px}
  .logo{width:46px;height:46px}
  .card{min-height:unset}
  .group{padding:14px}
  .panel{padding:14px}
  .submit-row{flex-direction:column}
  .designer{right:8px;bottom:68px}
  footer.tag{left:8px}
}

/* ---------- EXTRA MICROS: shimmer on group title & gradient underline ---------- */
.group h2{
  position:relative;padding-bottom:8px;
}
.group h2::after{
  content:'';
  position:absolute;left:0;right:0;bottom:0;height:3px;border-radius:6px;
  background:linear-gradient(90deg, rgba(0,245,212,0.2), rgba(139,92,246,0.12));
  transform-origin:left;transform:scaleX(0);transition:transform .5s var(--ease);
}
.group:hover h2::after{transform:scaleX(1)}

/* subtle shimmer across the whole card on hover */
@keyframes shimmerMove{
  0%{background-position:-400px 0}
  100%{background-position:400px 0}
}
.card:hover{
  /* visual only - slight sheen */
}

/* ---------- small helpers ---------- */
.kv{display:flex;gap:8px;align-items:center}
.small{font-size:12px;color:var(--muted)}
.bold{font-weight:700;color:var(--text)}

/* ---------- accessibility focus styles ---------- */
:focus{outline: none}
.opt:focus, .star-btn:focus, .btn:focus, input:focus, textarea:focus, select:focus{
  box-shadow:0 12px 36px rgba(91,95,245,0.08), 0 0 18px rgba(0,245,212,0.03);
}

/* ---------- final polish: reduce motion toggle (prefers-reduced-motion) ---------- */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important;animation:none !important}
  .stage{scroll-behavior:auto}
}

/* --- Popup Overlay --- */
.instruction-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 25, 0.75);
  backdrop-filter: blur(20px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.6s ease, visibility 0.6s ease;
}

.instruction-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* --- Popup Modal --- */
.instruction-modal {
  background: linear-gradient(145deg, rgba(35,40,80,0.8), rgba(20,25,55,0.7));
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  border-radius: 24px;
  padding: 40px 35px;
  width: clamp(300px, 85vw, 480px);
  color: #fff;
  text-align: left;
  font-family: "Poppins", sans-serif;
  transform: scale(0.9);
  opacity: 0;
  animation: modalIn 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Title + List */
.instruction-modal h2 {
  font-size: 1.6rem;
  font-weight: 600;
  margin-bottom: 12px;
  background: linear-gradient(90deg, #00c6ff, #7d2fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.instruction-modal p {
  font-size: 0.95rem;
  color: #d3d3ff;
  margin-bottom: 10px;
}

.instruction-modal ul {
  list-style: none;
  padding-left: 0;
  margin-bottom: 25px;
}

.instruction-modal ul li {
  padding: 8px 0;
  border-left: 3px solid rgba(125, 255, 255, 0.6);
  padding-left: 10px;
  color: #f5f5ff;
  font-size: 0.92rem;
  transition: transform 0.3s ease;
}

.instruction-modal ul li:hover {
  transform: translateX(5px);
}

/* Button */
#gotItBtn {
  background: linear-gradient(135deg, #00d9ff, #7f4cff);
  border: none;
  color: #fff;
  padding: 12px 22px;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  font-family: "Poppins", sans-serif;
  transition: all 0.3s ease;
}

#gotItBtn:hover {
  transform: scale(1.05);
  background: linear-gradient(135deg, #7f4cff, #00d9ff);
  box-shadow: 0 0 20px rgba(127, 76, 255, 0.6);
}

/* --- Keyframes --- */
@keyframes modalIn {
  0% {
    transform: scale(0.8) translateY(40px);
    opacity: 0;
  }
  100% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}
.opt {
  display: inline-block;
  margin: 6px;
  padding: 10px 18px;
  border-radius: 12px;
  background: rgba(255,255,255,0.05);
  color: #eee;
  cursor: pointer;
  transition: all 0.25s ease;
}

.opt:hover {
  background: rgba(255,255,255,0.1);
  transform: translateY(-2px);
}

.opt.active {
  background: #00bcd4;
  color: #000;
  box-shadow: 0 0 12px #00bcd4aa;
  transform: scale(1.05);
}

/* Input box hidden by default */
.subject-input {
  margin-top: 12px;
  display: none;
}

/* Bounce-in animation for textbox */
.show-box {
  animation: bounceIn 0.5s cubic-bezier(0.22, 1.61, 0.36, 1);
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(20px);
  }
  60% {
    opacity: 1;
    transform: scale(1.05) translateY(-4px);
  }
  100% {
    transform: scale(1) translateY(0);
  }
}

.subject-input input {
  width: 100%;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.05);
  color: #fff;
  outline: none;
  transition: all 0.3s ease;
}

.subject-input input:focus {
  border-color: #00bcd4;
  box-shadow: 0 0 10px #00bcd4aa;
}


  </style>
</head>
<body>
  <!-- Instruction Popup -->
<div class="instruction-overlay" id="instructionOverlay">
  <div class="instruction-modal">
    <h2>Instructions</h2>
    <p>Hey there! Before you start, please read these quick points:</p>
<ul>
  <li>Be honest about your experience — we want real feedback.</li>
  <li>Make sure to fill in your name, class, and section accurately.</li>
  <li>Be open but respectful.</li>
  <li>Check your inputs before submitting — once sent, edits aren’t possible.</li>
  <li>Enjoy giving feedback and help improve your learning environment!</li>
  <li>Tap “Submit Feedback” when you’re done!</li>
</ul>

    <button id="gotItBtn">Got it!</button>
  </div>
</div>

  <div class="stage">
    <div class="card" role="main">
      <div class="shape s1"></div>
      <div class="shape s2"></div>

      <div class="header">
        <div class="logo">APSK</div>
        <div class="meta">
          <div class="title">APSK — Student Feedback</div>
          <div class="subtitle">Honest & anonymous options • Responses saved securely</div>
        </div>
      </div>

      <div class="main">
        <div class="left">

          <!-- Group: Teaching Quality -->
          <section class="group" data-group="teachingQuality">
            <h2>Teaching </h2>
            <p class="desc">Questions about clarity, pace, grading and overall teaching effectiveness.</p>

            <div class="q" data-q="clarity">
              <h3>1. I can understand teachers' explanations clearly.</h3>
              <div class="options">
                <div class="opt" data-value="Always">Always</div>
                <div class="opt" data-value="Sometimes">Sometimes</div>
                <div class="opt" data-value="Rarely">Rarely</div>
            
              </div>
            </div>

            <div class="q" data-q="pace">
              <h3>The syllabus of subjects is completed at a good pace</h3>
              <div class="options">
        <div class="opt" data-value="Always">Always</div>
                <div class="opt" data-value="Sometimes">Sometimes</div>
                <div class="opt" data-value="Rarely">Rarely</div>
              </div>
            </div>

            <div class="q" data-q="grading">
              <h3>3. Equal attention is given to all students in the class.</h3>
              <div class="options">
        <div class="opt" data-value="Always">Always</div>
                <div class="opt" data-value="Sometimes">Sometimes</div>
                <div class="opt" data-value="Rarely">Rarely</div>
              </div>
            </div>
             <div class="q" data-q="grading">
              <h3>4 Grading of examination papers is done logically.</h3>
              <div class="options">
        <div class="opt" data-value="Always">Always</div>
                <div class="opt" data-value="Sometimes">Sometimes</div>
                <div class="opt" data-value="Rarely">Rarely</div>
              </div>
            </div>

            <div class="q">
              <h3>5. Rate overall teaching</h3>
              <div class="stars-wrap">
                <div class="stars" role="radiogroup" aria-label="Teaching quality rating">
                  <button class="star-btn" data-value="1" aria-label="1 star" tabindex="0"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/></svg><span class="tooltip"></span></button>
                  <button class="star-btn" data-value="2" aria-label="2 stars" tabindex="0"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/></svg><span class="tooltip"></span></button>
                  <button class="star-btn" data-value="3" aria-label="3 stars" tabindex="0"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/></svg><span class="tooltip"></span></button>
                  <button class="star-btn" data-value="4" aria-label="4 stars" tabindex="0"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/></svg><span class="tooltip"></span></button>
                  <button class="star-btn" data-value="5" aria-label="5 stars" tabindex="0"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="currentColor"/></svg><span class="tooltip"></span></button>
                </div>
                <div class="tiny">Tap a star • 1 (lowest) → 5 (highest)</div>
              </div>
            </div>

          </section>

          <!-- Group: Doubts & Support -->
          <section class="group" data-group="doubts">
            <h2>Help & Support</h2>
            <p class="desc">Questions about doubt clearing, availability and extra help.</p>
                     <div class="q" data-q="topicUnderstanding">
              <h3>6. I can easily understand all topics in every subject</h3>
              <div class="options">
                <div class="opt" data-value="Yes">Yes</div>
                <div class="opt" data-value="No">No</div>
              </div>
              <div class="subject-input"><input type="text" placeholder="Enter subject & topic" /></div>
            </div>
            <div class="q" data-q="doubtClarify">
              <h3>7. Teachers clarify my doubts in the class</h3>
              <div class="options">
        <div class="opt" data-value="Always">Always</div>
                <div class="opt" data-value="Sometimes">Sometimes</div>
                <div class="opt" data-value="Rarely">Rarely</div>
              </div>
            </div>

            <div class="q" data-q="extraClasses">
              <h3>8. I want extra classes to clarify my doubts.</h3>
              <div class="options">
                <div class="opt" data-value="Online">Online</div>
                <div class="opt" data-value="Offline">Offline</div>
                <div class="opt" data-value="No">No</div>
              </div>
            </div>

<!--CHANGE-->
          </section>

          <!-- Group: Punctuality & Discipline -->
          <section class="group" data-group="punctuality">
            <h2>Punctuality & Discipline</h2>
            <p class="desc">Arrival times, classroom discipline and environment.</p>

            <div class="q" data-q="arrival">
              <h3>9. Teachers come to class on time</h3>
              <div class="options">
                <div class="opt" data-value="Yes">Yes</div>
                <div class="opt" data-value="No">No</div>
              </div>
              <div class="subject-input"><input type="text" placeholder="Enter subject" required/></div>
            </div>

            <div class="q" data-q="environment">
              <h3>10. The classroom environment is warm and supportive.</h3>
              <div class="options">
             <div class="options">
                <div class="opt" data-value="Yes">Yes</div>
                <div class="opt" data-value="No">No</div>
              </div>
              <div class="subject-input"><input type="text" placeholder="Enter subject & topic" /></div>
              </div>
            </div>

          </section>

          <!-- Group: Suggestions & Free text -->
          <section class="group" data-group="suggestions">
            <h2>Suggestions & Feedback</h2>
            <p class="desc">Open answers that help admins improve teaching and process.</p>

            <div class="q" data-q="favTeacher">
              <h3>11. My favourite teacher is </h3>
              <div class="answer"><textarea placeholder="Type your answer here..." rows="4"></textarea></div>
                            <h3>Because</h3>
              <div class="answer"><textarea placeholder="Type your answer here..." rows="4"></textarea></div>
            </div>


            <div class="q" data-q="generalSuggestions">
              <h3>12. My suggestions to improve my school experience </h3>
              <textarea id="suggestions" rows="4" placeholder="Type constructive suggestions... " style="width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--accent)"></textarea>
            </div>

          </section>

        </div>

        <aside class="right">
          <div class="panel">
            <h4>Student details</h4>
            <div class="field"><input type="text" id="studentName" placeholder="Full name"></div>
            <div class="field"><input type="text" id="className" placeholder="Class " required></div>
            <div class="field"><input type="text" id="section" placeholder="Section " required></div>

            <div class="divider"></div>

          
            <div class="submit-row">
              <button class="btn primary" id="submitBtn">Submit Feedback</button>
              <button class="btn ghost" id="resetBtn">Reset</button>
            </div>
            <div class="spacer2"></div>
            <div class="note tiny">By submitting you allow admins to review this feedback. Sensitive info will be handled confidentially.</div>
          </div>
        </aside>

      </div>

    </div>
  </div>

  <div class="toast" id="toast">Saved — thanks for your feedback!</div>
  <div class="designer">©Rajibul</div>


  <!-- ----------------- Firebase + JS logic ----------------- -->
  <script type="module">
    // Modular Firebase v9+ (browser ESM import)
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';
    import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';

    // ---------- FILL YOUR FIREBASE CONFIG BELOW ----------
const firebaseConfig = {
  apiKey: "AIzaSyDualJqcVE_-FH2AxVoxs5I-gTredNzFGA",
  authDomain: "aps-kolkata-5e7d3.firebaseapp.com",
  projectId: "aps-kolkata-5e7d3",
  storageBucket: "aps-kolkata-5e7d3.firebasestorage.app",
  messagingSenderId: "796966232821",
  appId: "1:796966232821:web:9ef72d827671ee8e7f5bbc",
  measurementId: "G-6RQJ92QX1H"
};
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Helper: query all options / inputs inside a group and build data
    function collectGroupAnswers(){
      const groups = document.querySelectorAll('.group');
      const payload = {};

      groups.forEach(g =>{
        const key = g.dataset.group || 'group_'+Math.random().toString(36).slice(2,6);
        payload[key] = {};

        // options & picks
        g.querySelectorAll('.q').forEach(q =>{
          const qKey = q.dataset.q || q.querySelector('h3')?.innerText?.slice(0,24).trim().replace(/\s+/g,'_') || 'q_'+Math.random().toString(36).slice(2,4);

          // check for selected option
          const selected = q.querySelector('.opt.selected');
          if(selected){
            payload[key][qKey] = {type:'choice', value:selected.dataset.value};
            return;
          }

          // check for star rating
          const activeStar = q.querySelector('.star-btn.active');
          if(activeStar){
            payload[key][qKey] = {type:'rating', value: Number(activeStar.dataset.value)};
            return;
          }

          // check for textareas/inputs
          const ta = q.querySelector('textarea');
          if(ta && ta.value.trim()!==''){
            payload[key][qKey] = {type:'text', value:ta.value.trim()};
            return;
          }

          const inp = q.querySelector('input');
          if(inp && inp.value.trim()!==''){
            payload[key][qKey] = {type:'text', value:inp.value.trim()};
            return;
          }

          // no answer provided
          payload[key][qKey] = {type:'empty', value:null};
        });
      });

      return payload;
    }

window.addEventListener("load", () => {
  const overlay = document.getElementById("instructionOverlay");
  const gotIt = document.getElementById("gotItBtn");

  // Show popup on load
  setTimeout(() => {
    overlay.classList.add("active");
  }, 800);

  // Close on button click
  gotIt.addEventListener("click", () => {
    overlay.classList.remove("active");
  });
});

    // UI: option clicks
    document.querySelectorAll('.opt').forEach(el=>{
      el.addEventListener('click', e =>{
        const parent = el.closest('.options');
        // single-select per question
        parent.querySelectorAll('.opt').forEach(o=>o.classList.remove('selected'));
        el.classList.add('selected');
      });
    });

    // Stars
    document.querySelectorAll('.stars').forEach(starWrap=>{
      starWrap.querySelectorAll('.star-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          // clear
          starWrap.querySelectorAll('.star-btn').forEach(s=>s.classList.remove('active'));
          btn.classList.add('active');
        });
      })
    });

    // Toast
    const toast = document.getElementById('toast');
    function showToast(msg='Saved — thanks for your feedback!', time=2500){
      toast.innerText = msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'), time);
    }

    // Reset
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      // clear selections
      document.querySelectorAll('.opt.selected').forEach(o=>o.classList.remove('selected'));
      document.querySelectorAll('.star-btn.active').forEach(s=>s.classList.remove('active'));
      document.querySelectorAll('textarea').forEach(t=>t.value='');
      document.querySelectorAll('.subject-input input').forEach(i=>i.value='');
      document.getElementById('studentName').value='';
      document.getElementById('className').value='';
      document.getElementById('section').value='';
      document.getElementById('teacherSelect').value='';
    });

    // Submit handler - uploads to Firestore
    document.getElementById('submitBtn').addEventListener('click', async ()=>{
      // basic validation
      const className = document.getElementById('className').value.trim();
      const section = document.getElementById('section').value.trim();
      if(!className || !section){
        showToast('Please enter class and section');
        return;
      }

      const payload = collectGroupAnswers();
      const doc = {
        studentName: document.getElementById('studentName').value.trim() || null,
        class: className,
        section: section,
        groups: payload,
        submittedAt: serverTimestamp(),
        userAgent: navigator.userAgent
      };

      try{
        const ref = await addDoc(collection(db,'feedback'), doc);
        console.log('Saved doc id', ref.id);
        showToast('Saved — thanks for your feedback!');
        // optional: reset after save
        // document.getElementById('resetBtn').click();
      }catch(err){
        console.error(err);
        showToast('Error saving — please try again later.');
      }
    });

    // Accessibility: keyboard support for star buttons
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && document.activeElement.classList.contains('star-btn')){
        document.activeElement.click();
      }
    });

    // NOTE: Before deployment, secure Firestore rules to avoid abuse. Use server-side verification or require auth for sensitive writes if needed.

  </script><script>
document.querySelectorAll(".q").forEach(q => {
  const opts = q.querySelectorAll(".opt");
  const inputBox = q.querySelector(".subject-input");

  if (!opts.length || !inputBox) return; // skip if no options or no textbox

  // hide initially
  inputBox.style.display = "none";

  opts.forEach(opt => {
    opt.addEventListener("click", () => {
      // remove active from all options
      opts.forEach(o => o.classList.remove("active"));
      opt.classList.add("active");

      // check value
      if (opt.dataset.value === "No") {
        inputBox.style.display = "block";
        inputBox.classList.add("show-box");
      } else {
        inputBox.style.display = "none";
        inputBox.classList.remove("show-box");
      }
    });
  });
});
</script>


</body>
</html>
